DisGreps — это распределённая реализация утилиты grep на Go, которая позволяет обрабатывать файлы параллельно на нескольких воркерах.
Описание
Система работает в двух режимах:

Режим обработчика (worker) — один порт, локальная обработка файла
Режим мастера (master) — несколько портов, распределённая обработка с автоматическим разделением файла между доступными воркерами

Возможности

Поиск по регулярным выражениям или точному совпадению
Игнорирование регистра
Инверсия результатов (поиск несовпадающих строк)
Вывод контекста (строки до и после совпадения)
Подсчёт количества совпадений
Отображение номеров строк
Автоматическая балансировка нагрузки между воркерами
Проверка доступности воркеров перед распределением задач

## Использование
Базовый синтаксис
bash./grep [флаги] шаблон [файл] --work порт1 [порт2 порт3 ...]
## Флаги

-i — игнорировать регистр
-v — инвертировать поиск (найти строки БЕЗ шаблона)
-F — точное совпадение подстроки (без регулярных выражений)
-n — показывать номера строк
-c — выводить только количество найденных строк
-A N — показать N строк после совпадения
-B N — показать N строк до совпадения
-C N — показать N строк до и после совпадения (контекст)

## Примеры использования
Режим обработчика (одиночный воркер)
Простой поиск:
bash./grep error test.txt --work 9001 9002 9003
Поиск без учёта регистра:
bash./grep -i error test.txt --work 9001 9002 9003
Поиск с номерами строк:
bash./grep -n error test.txt --work 9001 9002 9003
Подсчёт совпадений:
bash./grep -c error test.txt --work 9001 9002 9003
Контекст вокруг совпадения:
bash./grep -C 2 error test.txt --work 9001 9002 9003
Инверсия поиска (строки БЕЗ шаблона):
bash./grep -v error test.txt --work 9001
Режим мастера (распределённая обработка)
Запуск воркеров (в отдельных терминалах):

# bash# Терминал 1
./grep --work 9001

# Терминал 2
./grep --work 9002

# Терминал 3
./grep "error" test.txt --work 9003

# Распределённый поиск на трёх воркерах:
bash./grep -i error large_file.txt --work 9001 9002 9003
Поиск в большом файле с контекстом:
bash./grep -i -C 3 "exception" vim.txt --work 9001 9002 9003
Подсчёт совпадений в распределённом режиме:
bash./grep -c -i "Безухов" vim.txt --work 9001 9002 9003
```

### Компоненты

**Master** — координирует работу, делит входной файл на части и распределяет между воркерами

**Worker** — обрабатывает выделенную часть файла и возвращает результаты

**HTTP Server** — обрабатывает запросы в обоих режимах

### API эндпоинты

Для воркеров:
- `GET /on` — проверка доступности воркера
- `POST /load` — получение и обработка части файла

Для мастера:
- `GET /reqon` — статус мастера
- `POST /done` — завершение обработки

### Алгоритм работы

1. Мастер проверяет доступность всех указанных воркеров через `/on`
2. Файл делится на части пропорционально количеству доступных воркеров
3. Каждая часть отправляется на свой воркер через `/load`
4. Воркеры обрабатывают данные параллельно
5. Результаты собираются и объединяются мастером
6. Итоговый результат выводится пользователю

## Структура проекта
```
disgreps/
├── cmd/
│   └── main.go              # Точка входа
├── domain/
│   └── domain.go            # Структуры данных
├── internal/
│   ├── http/
│   │   └── http.go          # HTTP сервер и обработчики
│   └── serv/
│       ├── master/
│       │   └── master.go    # Логика мастера
│       └── worker/
│           └── worker.go    # Логика воркера
└── utils/
    ├── flags.go             # Парсинг аргументов
    ├── input.go             # Чтение файлов
    ├── output.go            # Вывод результатов
    └── processor.go         # Обработка строк